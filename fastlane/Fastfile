# If you want to automatically update fastlane if a new version is available:
# update_fastlane

# This is the minimum version number required.
# Update this, if you use features of a newer version
fastlane_version "2.28.3"

default_platform :ios

platform :ios do
  before_all do
    setup_circle_ci
  end

  desc "Runs all the tests"
  lane :test do
    # cocoapods() 
    scan(workspace:"Example/SuperAwesomeExample.xcworkspace", include_simulator_logs: false)
  end

  # desc "Install cocoapods"
  # lane :install_pods do
  #   cocoapods(
  #       clean: true,
  #       use_bundle_exec: false
  # )
  # end

  after_all do |lane|
    # This block is called, only if the executed lane was successful
  end

  error do |lane, exception|
    # slack(
    #   message: exception.message,
    #   success: false
    # )
  end
end

